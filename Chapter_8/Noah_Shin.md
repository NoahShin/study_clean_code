# Chapter 8. 경계 Boundary

- 시스템에 들어가는 모든 소프트웨어를 직접 개발하는 경우는 드물쥬?
- 때로는 패키지를 사고, 때로는 오픈소스도 이용하고, 사내 다른 팀이 제공한느 컴포넌트를 사용하기도 하쥬
- 어떤식으로든 이 외부코드를 우리코드에 깔끔하게 통합해야한다.
- 이 챕터에서는 소프트웨어 경계를 깔끔하게 처리하는 기법과 기교를 살펴보자아

멋지게 살펴보자고 하고 읽었는데,,, 2번 읽었는데... 잘.. 못 알아들은 느낌..?

노드에서 

```java
npm install <library>
```

이런 느낌인가..?

예를 들어.. axios 도 사실 외부코드 가져와서 설치해서 메소드 쓰는건데...

```java
const axios  = require('axios');
const logger = require('../../config/winston.js');
const crypto = require('crypto');
```

이렇게 위에서 선언하고 아래에서 가져다 쓰는데...

공부는 문서 보고 공부하구..

## 학습 테스트는 공짜 이상이다.

- npm install 해서 만들어진 오픈소스 가져와서 사용하다가
- 패키지 작성자는 버그를 수정하고 기능도 추가한다. 패키지 새 버전이 나올 때마다 새로운 위험이 생긴다.
- 그래서 미리 그 외부 기능을 테스트 하는 테스트 코드를 미리 만들어 놓는다.
- 새 버전이 우리 코드와 호환되지 않으면 학습 테스트가 이 사실을 바로 알게 해주지
- 경계 테스트와 함께라면 버전 변경도 두렵지 않다.
    - 필요 이상으로 낡은 버전을 사용하려는 유혹에서 빠져나올 수 있음

# 경계 살피고 익히기

타사 라이브러리를 처음 가져왔을 때 사용법이 분명치 않다고 가정하면:

1. 하루나 이틀(혹은 더더더) 문서를 읽으며 사용법을 결정
2. 코드를 작성해 라이브러리가 예상대로 동작하는지 확인
3. 디버깅(의 반복)

위와 다르게 *학습 테스트* 를 통해 외부 코드를 익히고 통합하는 어려운 일을 쉽게 할 수 있다.

- 곧바로 우리쪽 코드를 작성해 외부 코드를 호출하는 대신 먼저 간단한 테스트 케이스를 작성해 외부 코드를 익힘
- *학습 테스트* 는 프로그램에서 사용하려는 방식대로 외부 API를 호출(API를 사용하려는 목적에 초점을 맞춘다.)

# 깨끗한 경계

변경이 이루어질 때 경계를 통해 통제하고 있었다면 향후 변경으로 인해 발생하는 비용이 줄어들 수 있습니다.

- 경계에 위치하는 코드는 깔끔히 분리
- 기대치를 정의하는 테스트 케이스 작성

*통제가 불가능한 외부 패키지* 에 의존하는 것보다는 *통제가 가능한 우리 코드에 의존* 하는 편이 좋습니다.

노아: 근데,, 우리 CTO 는.. 라이브러리가 있다면 그걸 써라. 이미 수많은 똑똑한 개발자들이 미리 만들어 놓은게 있는데 뭐하러 하드코딩으로 또 만드냐, 잘 쓰는 것도 개발자의 능력이다. ( 뭐 특이사항이 많은 진짜 우리회사 맞춤 API 면 직접 만들어야지.. 유도리 있게 )